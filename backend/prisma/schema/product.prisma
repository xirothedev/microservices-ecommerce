model Product {
  id            String        @id @default(cuid()) @db.VarChar(25)
  createAt      DateTime      @default(now()) @map("create_at") @db.Timestamptz
  updateAt      DateTime      @updatedAt @map("update_at") @db.Timestamptz
  sku           String?       @unique @db.VarChar(50)
  isActive      Boolean       @default(true) @map("is_active")
  slug          String        @unique @db.VarChar(255)
  name          String        @db.VarChar(255)
  description   String        @db.Text
  stock         Int           @db.SmallInt
  sold          Int           @default(0) @db.SmallInt
  flags         ProductFlag[]
  originalPrice Int           @map("original_price") @db.Integer
  discountPrice Int           @map("discount_price") @db.Integer
  tags          String[]      @db.VarChar(100)
  medias        String[]      @db.VarChar(500)

  categoryId String      @map("category_id") @db.Uuid
  category   Category    @relation(fields: [categoryId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  cartItem   CartItem[]
  OrderItem  OrderItem[]
}

model Category {
  id       String    @id @default(uuid()) @db.Uuid
  name     String    @db.VarChar(100)
  slug     String    @db.VarChar(100)
  products Product[]
}

enum ProductFlag {
  BEST_CHOICE
  BEST_SELLER
  BEST_CHEAP
  POPULAR
}
