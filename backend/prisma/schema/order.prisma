model Order {
  id         String   @id @default(uuid()) @db.Uuid
  createAt   DateTime @default(now()) @map("create_at") @db.Timestamptz
  updateAt   DateTime @updatedAt @map("update_at") @db.Timestamptz
  totalPrice Int      @map("total_price") @db.Integer

  billId String      @unique @map("bill_id") @db.Uuid
  bill   Bill        @relation(fields: [billId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  items  OrderItem[]
}

model OrderItem {
  id       String     @id @default(uuid()) @db.Uuid
  from     SelectFrom
  quantity Int        @default(1) @db.SmallInt
  price    Int        @db.Integer

  productId     String      @map("product_id") @db.VarChar(25)
  product       Product     @relation(fields: [productId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  productItemId String      @unique @map("product_item_id") @db.VarChar(25)
  productItem   ProductItem @relation(fields: [productItemId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  orderId       String      @map("order_id") @db.Uuid
  order         Order       @relation(fields: [orderId], references: [id], onDelete: Cascade, onUpdate: Cascade)
}
